        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>restlib.core.multipart Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="favicon.ico">
        
        </head>
        <body data-library="restlib.core.multipart">
        <div class="page">
        <div class="header">
          <a href="index.html"><div class="logo"></div></a>
          <a href="index.html">Dart Documentation</a>
         &rsaquo; <a href="restlib.core.multipart.html">restlib.core.multipart</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
<h2><strong>restlib.core.multipart</strong> library</h2>
<div>
<h3>Functions</h3>
<div class="method"><h4 id="parseMultipartStream">
<button class="show-code">Code</button>
Future&lt;<a href="restlib.core.multipart/Multipart.html">Multipart</a>&gt; <strong>parseMultipartStream</strong>(Stream&lt;List&lt;int&gt;&gt; msgStream, String boundary, <a href="restlib.common.collections/Option.html">Option</a>&lt;<a href="restlib.core.multipart/PartParser.html">PartParser</a>&gt; partParserProvider(<a href="restlib.core.multipart/PartContentInfo.html">PartContentInfo</a> contentInfo)) <a class="anchor-link" href="#parseMultipartStream"
              title="Permalink to parseMultipartStream">#</a></h4>
<div class="doc">
<pre class="source">
Future&lt;Multipart&gt; parseMultipartStream(
   final Stream&lt;List&lt;int&gt;&gt; msgStream, 
   final String boundary, 
   Option&lt;PartParser&gt; partParserProvider(PartContentInfo contentInfo)) =&gt; 
       new MimeMultipartTransformer(boundary)
         .bind(msgStream)
         .map((final MimeMultipart multipart) =&gt;
             new Part(new ContentInfo.wrapHeaders(
               (final Header header) =&gt; 
                   new Option(multipart.headers[header.toString()])), 
             multipart))
         .fold(Persistent.EMPTY_SEQUENCE, (final ImmutableSequence&lt;Future&gt; futureResults, final Part&lt;Stream&lt;List&lt;int&gt;&gt;&gt; part) =&gt; 
             partParserProvider(part.contentInfo)
               .map((final PartParser parser) =&gt;
                   futureResults.add(parser(part.contentInfo, part.entity)))
               .orCompute(() =&gt;
                   futureResults.add(part.entity.drain()))
         .then(Future.wait)
         .then((final List parts) =&gt; 
             parts.where((final e) =&gt;
                 e is Part))
         .then((final List&lt;Part&gt; parts) =&gt;
             new Multipart(boundary, parts)));
</pre>
</div>
</div>
</div>
<div>
<h3>Abstract Classes</h3>
          <div class="type">
          <h4>
            <a href="restlib.core.multipart/ByteStreamableMultipart.html"><strong>ByteStreamableMultipart&lt;T&gt;</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="restlib.core.multipart/Multipart.html"><strong>Multipart&lt;T&gt;</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="restlib.core.multipart/PartContentInfo.html"><strong>PartContentInfo</strong></a>
          </h4>
          </div>
          
</div>
<div>
<h3>Classes</h3>
          <div class="type">
          <h4>
            <a href="restlib.core.multipart/Part.html"><strong>Part&lt;T&gt;</strong></a>
          </h4>
          </div>
          
</div>
<div>
<h3>Typedefs</h3>
          <div class="type">
          <h4>
            <a href="restlib.core.multipart/PartParser.html"><strong>PartParser</strong></a>
          </h4>
          </div>
          
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          
        </div>
        <script async src="client-live-nav.js"></script>
        </body></html>
        
